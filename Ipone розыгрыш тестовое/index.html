<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Win a Free iPhone 16 Pro — Landing</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="progress-wrap" aria-hidden="true">
      <div class="progress" id="globalProgress"></div>
    </div>

    <div class="meta" role="banner">
      <div class="meta__badge">
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          aria-hidden="true"
        >
          <path d="M9 12l2 2 4-4" />
          <circle cx="12" cy="12" r="10" /></svg
        >Trend'n Daily Official
      </div>
      <div class="pill" title="Limited supply">⌛ Limited Supply</div>
    </div>

    <main class="container">
      <section class="hero">
        <div>
          <span class="eyebrow" aria-label="Offer eyebrow">
            💬 Exclusive promotion for 10 minutes
          </span>
          <h1 class="title">ABSOLUTELY FREE!<br />Win an iPhone 16 Pro</h1>
          <p class="subtitle">
            Free shipping. No bank card required. Confirm your participation
            before the timer runs out.
          </p>
          <div class="chips">
            <span class="chip"
              ><svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M20 6l-11 11-5-5" />
              </svg>
              Free Shipping</span
            >
            <span class="chip"
              ><svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M7 12h10" />
              </svg>
              No Credit Card Required</span
            >
            <span class="chip"
              ><svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M9 12l2 2 4-4" />
                <circle cx="12" cy="12" r="10" />
              </svg>
              Trusted & Verified</span
            >
          </div>
          <div class="cta">
            <button class="btn" id="openForm">Try it NOW and WIN!</button>
            <button class="btn btn-outline" id="scrollFeatures">
              More about
            </button>
          </div>
        </div>
        <div class="hero-media">
          <picture class="image"> <img src="./Iphone.png" alt="" /></picture>
        </div>
      </section>

      <section class="features" id="features">
        <article class="feature">
          <div class="img"><img src="./icon1.png" alt="" /></div>
          <div>
            <h3>The official drawing</h3>
            <p>
              Transparent participation rules and application verification. We
              value your safety and privacy.
            </p>
          </div>
        </article>
        <article class="feature">
          <div class="img"><img src="./icon2.png" alt="" /></div>
          <div>
            <h3>Instant confirmation</h3>
            <p>
              Enter your email address and you will immediately receive
              confirmation of your participation and further steps by email.
            </p>
          </div>
        </article>
        <article class="feature">
          <div class="img"><img src="./icon3.png" alt="" /></div>
          <div>
            <h3>Worldwide shipping</h3>
            <p>The winner gets a device with free shipping. No hidden fees.</p>
          </div>
        </article>
      </section>

      <section class="steps">
        <div class="steps__row">
          <div class="step">
            <h4>1) Click "Try it NOW!"</h4>
            <p>
              A form will open, inspired by the original design in the
              screenshot.
            </p>
          </div>
          <div class="step">
            <h4>2) Confirm the email</h4>
            <p>
              The 10-minute timer is synchronized with the indicator at the top
              of the page.
            </p>
          </div>
          <div class="step">
            <h4>3) Wait for the email</h4>
            <p>
              We will send you a confirmation of your participation and further
              instructions.
            </p>
          </div>
        </div>
      </section>

      <footer>
        <p>All rights reserved 2025</p>
      </footer>
    </main>

    <!-- МОДАЛКА -->
    <div
      class="modal"
      id="formModal"
      aria-hidden="true"
      aria-labelledby="formTitle"
      role="dialog"
    >
      <div class="card" id="formCard">
        <button class="close" id="closeForm" aria-label="Закрыть форму">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <path d="M18 6L6 18M6 6l12 12" />
          </svg>
        </button>
        <div class="card__inner">
          <h2 id="formTitle">ABSOLUTELY FREE!</h2>
          <div class="checks" aria-label="Benefits">
            <span class="item"
              ><svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <path d="M20 6l-11 11-5-5" />
              </svg>
              Free Shipping</span
            >
            <span class="item"
              ><svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                aria-hidden="true"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="M7 12h10" />
              </svg>
              No Credit Card Required</span
            >
          </div>
          <div class="phone">
            <picture class="image"> <img src="./Iphone.png" alt="" /></picture>
          </div>
          <div class="caption">
            *Images are used for illustration purposes only.
          </div>
        </div>
        <div class="band">
          <div class="expire">
            Today's application will expire in
            <span class="timer" id="timer">10:00</span>
          </div>
        </div>
        <div class="card__inner">
          <div class="label">Confirm your email address</div>
          <input
            id="email"
            class="input"
            type="email"
            placeholder="Your email"
            autocomplete="email"
            style="max-width: 470px"
          />
          <div class="error" id="emailError">
            Please provide a valid email address.
          </div>
          <button class="submit" id="continueBtn">Continue</button>
          <div class="fineprint">
            By clicking "Continue", you agree to receive emails from our company
            and partners. Learn more
            <a href="#" target="_blank" rel="noopener">in the Privacy Policy</a>
            and
            <a href="#" target="_blank" rel="noopener">in the Promotion Rules</a
            >.
          </div>
          <div class="onlyone">Limited To One Per Household</div>
        </div>
      </div>
    </div>

    <script>
      const OFFER_SECONDS = 10 * 60 // 10 minutes
      const LS_KEY = 'offerStartedAt'
      const progressEl = document.getElementById('globalProgress')
      const timerEl = document.getElementById('timer')
      const formCard = document.getElementById('formCard')

      function getStart() {
        const saved = Number(localStorage.getItem(LS_KEY))
        if (Number.isFinite(saved) && saved > 0) return saved
        const now = Date.now()
        localStorage.setItem(LS_KEY, String(now))
        return now
      }

      let startTs = getStart()

      function fmt(sec) {
        const m = Math.floor(sec / 60)
        const s = sec % 60
        return `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`
      }

      function tick() {
        const elapsed = Math.floor((Date.now() - startTs) / 1000)
        const remain = Math.max(0, OFFER_SECONDS - elapsed)
        const ratio = remain / OFFER_SECONDS

        progressEl.style.width = (ratio * 100).toFixed(4) + '%'

        if (timerEl) timerEl.textContent = fmt(remain)

        if (remain === 0) {
          document.body.classList.add('expired')
          formCard?.classList.add('expired')
          const btn = document.getElementById('continueBtn')
          btn.textContent = 'Offer expired'
          btn.disabled = true
        }
      }

      tick()
      setInterval(tick, 1000)

      document
        .getElementById('scrollFeatures')
        .addEventListener('click', () => {
          document
            .getElementById('features')
            .scrollIntoView({ behavior: 'smooth' })
        })

      const modal = document.getElementById('formModal')
      const openBtn = document.getElementById('openForm')
      const closeBtn = document.getElementById('closeForm')

      function openModal() {
        modal.setAttribute('aria-hidden', 'false')
        document.body.style.overflow = 'hidden'
      }
      function closeModal() {
        modal.setAttribute('aria-hidden', 'true')
        document.body.style.overflow = ''
      }

      openBtn.addEventListener('click', openModal)
      closeBtn.addEventListener('click', closeModal)
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal()
      })
      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeModal()
      })

      const emailInput = document.getElementById('email')
      const err = document.getElementById('emailError')
      const submit = document.getElementById('continueBtn')

      function isValidEmail(v) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(v)
      }

      function showError(show) {
        err.style.display = show ? 'block' : 'none'
      }

      emailInput.addEventListener('input', () => {
        showError(false)
        submit.disabled = false
        submit.textContent = 'Continue'
      })

      submit.addEventListener('click', () => {
        const remainText = timerEl.textContent || '00:00'
        const [mm, ss] = remainText.split(':').map(Number)
        const remaining = mm * 60 + ss
        if (remaining <= 0) {
          return
        }
        const v = emailInput.value.trim()
        if (!isValidEmail(v)) {
          showError(true)
          emailInput.focus()
          return
        }
        // Fake success step
        submit.disabled = true
        submit.textContent = 'Submitting…'
        setTimeout(() => {
          submit.textContent = 'Check your inbox'
        }, 750)
      })
    </script>
  </body>
</html>
